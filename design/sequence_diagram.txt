       ┌─┐                                                                                                                                                                                                                                                                                                                                                      
       ║"│                                                                                                                                                                                                                                                                                                                                                      
       └┬┘                                                                                                                                                                                                                                                                                                                                                      
       ┌┼┐                                                                                                                                                                                                                                                                                                                                                      
        │                ┌────────┐           ┌─────────────────────┐          ┌────┐           ┌──────────────────────────────┐           ┌──────┐           ┌────────────────┐           ┌──────────────────────┐           ┌──────────────┐           ┌─────────────────────┐          ┌───────────────────┐          ┌───────────────────┐           ┌─────┐
       ┌┴┐               │PDF File│           │UnstructuredPDFLoader│          │Data│           │RecursiveCharacterTextSplitter│           │Chunks│           │OllamaEmbeddings│           │Chroma Vector Database│           │ChatOllama LLM│           │Query Prompt Template│          │MultiQueryRetriever│          │RAG Prompt Template│           │Chain│
      User               └────┬───┘           └──────────┬──────────┘          └──┬─┘           └───────────────┬──────────────┘           └───┬──┘           └────────┬───────┘           └───────────┬──────────┘           └───────┬──────┘           └──────────┬──────────┘          └─────────┬─────────┘          └─────────┬─────────┘           └──┬──┘
        │Access PDF file path │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │────────────────────>│                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │      Load PDF file       │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │─────────────────────────>│                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │  Return loaded data    │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │───────────────────────>│                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │   Split data into chunks    │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │────────────────────────────>│                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │        Return chunks         │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │─────────────────────────────>│                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                      Add chunks                       │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │──────────────────────────────────────────────────────>│                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │     Generate embeddings       │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │<──────────────────────────────│                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │        Add embeddings         │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │──────────────────────────────>│                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │       Define query prompt template                   │                               │                              │                             │                               │                              │                        │   
        │──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │     Initialize retriever      │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │──────────────────────────────>│                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │Use vector database retriever│                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │───────────────────────────────────────────────────────────────────────────────────────────>│                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                Add retriever to chain                 │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │──────────────────────────────────────────────────────>│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │        Define RAG prompt template                     │                              │                             │                               │                              │                        │   
        │─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │Add RAG prompt to chain │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │───────────────────────>│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                  Invoke chain with input question     │                              │                             │                               │                              │                        │   
        │──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │               Process question with LLM                      │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │<────────────────────────────────────────────────────────────────────────────────────────────────────────────────────│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                Retrieve relevant documents                  │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │────────────────────────────────────────────────────────────>│                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │               Pass retrieved documents                │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │──────────────────────────────────────────────────────>│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │               Process documents with LLM                     │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │<────────────────────────────────────────────────────────────────────────────────────────────────────────────────────│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                    Generate answer                           │                        │   
        │                     │                          │                        │                             │                              │                       │                               │                              │────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│   
        │                     │                          │                        │                             │                              │                       │                               │                              │                             │                               │                              │                        │   
        │                     │                          │                        │                             │                              │                       │   Return answer               │                              │                             │                               │                              │                        │   
        │<──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────│   
      User               ┌────┴───┐           ┌──────────┴──────────┐          ┌──┴─┐           ┌───────────────┴──────────────┐           ┌───┴──┐           ┌────────┴───────┐           ┌───────────┴──────────┐           ┌───────┴──────┐           ┌──────────┴──────────┐          ┌─────────┴─────────┐          ┌─────────┴─────────┐           ┌──┴──┐
       ┌─┐               │PDF File│           │UnstructuredPDFLoader│          │Data│           │RecursiveCharacterTextSplitter│           │Chunks│           │OllamaEmbeddings│           │Chroma Vector Database│           │ChatOllama LLM│           │Query Prompt Template│          │MultiQueryRetriever│          │RAG Prompt Template│           │Chain│
       ║"│               └────────┘           └─────────────────────┘          └────┘           └──────────────────────────────┘           └──────┘           └────────────────┘           └──────────────────────┘           └──────────────┘           └─────────────────────┘          └───────────────────┘          └───────────────────┘           └─────┘
       └┬┘                                                                                                                                                                                                                                                                                                                                                      
       ┌┼┐                                                                                                                                                                                                                                                                                                                                                      
        │                                                                                                                                                                                                                                                                                                                                                       
       ┌┴┐                                                                                                                                                                                                                                                                                                                                                      